<!DOCTYPE html>

<html>
<head>
  <meta content="text/html; charset=utf-8" http-equiv="content-type">
  <link href="favicon.ico" rel="shortcut icon">

  <title>Mobile Robots (EMOR) tutorials</title>
  <link href="style.css" rel="stylesheet">
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
</head>

<body>
  <div class="page">

    <div class="heading_body">
      <div style="text-align:left; font-size:160%;">
        <strong>Mobile Robots (EMOR)</strong> tutorials.
      </div>
    </div>

    <div class="content_body">

<!--
      <div id="menu">
        <a class="top" href="index.html">Introduction</a>
        <a href="setup.html">Setup</a>
        <a href="example.html">Example project</a>
        <a href="project1.html">Project 1</a>
        <a href="project2.html">Project 2</a>
        <a href="project3.html">Project 3</a>
        <a href="api.html">API Documentation</a>
        <a href="tips.html">Tips & Tricks</a>
        <a href="troubleshooting.html">Troubleshooting</a>
      </div>

      <div class="content">
        <h1 style="margin-top: 0">The Project 1 is not yet announced</h1>
      </div>
-->

      <div id="menu">
        <a class="top" href="index.html">Introduction</a>
        <a href="setup.html">Setup</a>
        <a href="example.html">Example project</a>
        <a href="project1.html">Project 1</a>
          <a class="submenu" href="project1.html#description">Description</a>
          <a class="submenu" href="project1.html#square">Moving on the sides of the square</a>
          <a class="submenu" href="project1.html#circle1">Moving along a circle #1</a>
          <a class="submenu" href="project1.html#circle2">Moving along a circle #2</a>
        <a href="project2.html">Project 2</a>
        <a href="project3.html">Project 3</a>
        <a href="api.html">API Documentation</a>
        <a href="tips.html">Tips & Tricks</a>
        <a href="troubleshooting.html">Troubleshooting</a>
      </div>

      <div class="content">
      
        <a id="description" name="description"></a>
        <h1 style="margin-top: 0">Description</h1>

          <p>There are two major goals of the first EMOR tutorial:</p>
          <ol>
            <li>Installation of the required software,</li>
            <li>Writing three simple programs enabling youBot to move along two trajectories, i.e. a square and a circle.</li>
          </ol>

        <a id="install" name="install"></a>
        <h2>Installation of the environment</h2>

          During the first meeting you are supposed to install the environment, that you will use for the whole EMOR tutorials.
          The description the installation procedure can be found at <a href="setup.html">setup</a> website.

        <a id="generation" name="generation"></a>
        <h2>Trajectory generation</h2>
          <p>Your homework is to prepare three scripts, responsible for:
          <ol>
            <li>Generation of a square trajectory (2p)</li>
            <li>Generation of a circular trajectory with changing orientation (2p)</li>
            <li>Generation of a circular trajectory with constant orientation (2p)</li>
          </ol>
          The scripts should be named <code>solution1a.m</code>, <code>solution1b.m</code> and <code>solution1c.m</code> respectively.
          All scripts should be in <code>~/ws_emor/emor_trs/youbot</code> directory.</p>

          <p>Each script is a matlab program that declares a callback function of the same name as the script, e.g. the callback function in the script <code>solution1a.m</code>
            should be declared as follows:
<code class="block">
function [forwBackVel, leftRightVel, rotVel, finish] = solution1a(pts, contacts, position, orientation)
    ... % body of the function
end
</code>
            This callback function is called in every control loop. It processes the inputs:
            <ul>
              <li>the measured pose (position and orientation) of the robot,</li>
              <li>LIDAR data (laser range sensor),</li>
            </ul>
            and produces the outputs that control the state of the robot:
            <ul>
              <li>forward/backward velocity,</li>
              <li>left/right velocity,</li>
              <li>rotational velocity.</li>
            </ul>
            You can use the example scripts presented in the <a href="example.html">example project</a> as a reference.</p>
            <p>To run the simulation and the control program using with the callback control function <code>solution1a</code> type in the Matlab console:
            <code>run_simulation(@solution1a, false)</code>. Note that the steps from the instruction in the <a href="example.html">example project</a> page
            must be followed in order to enable the communication between Matlab and V-REP. Also, the V-REP application must be running!</p>

<h2>Programming hints</h2>

<p>Please refer to the <a href="example.html">example project</a> page.</p>

<a id="square" name="square"></a>
<h1>Following a square trajectory</h1>

<p>The first trajectory is four egdes of a square. You need to provide the youBot with a program that allows it to move along egdes of a square and visit all vertices.</p>

<h2>Task requirements</h2>
<ol>
  <li>The motion along each side of the square should be implemented in separate state of FSM, whereas the transition between states should be triggered by reaching the corner.</li>
  <li>When the robot will reach the first vertex once again, the program should stop. </li>
  <li>The lenght of the edge of the square should be 1m. </li>
  <li>Use the environment file <code>~/emor_trs/youbot/vrep_env/exercise01.ttt</code> in V-REP simulation.</li>
</ol>

<h2>Grading</h2>
<ul>
  <li>0.5p - the robot follows the square trajectory,</li>
  <li>0.5p - the lenght of the edge of the square is equal to 1m,</li>
  <li>1p - using the argument <code>position</code> of the callback function <code>solution1a</code> to control the velocity of the robot.</li>
</ul>

<div class="figure" style="width: 580px"><div><img style="border: 1px solid black; width: 560px" src="raster/vrep-square.jpg" alt="square" /></div></div>

<a id="circle1" name="circle1"></a>
<h1>Moving along a circle trajectory with changing orientation</h1>

<p>The second trajectory the youBot robot has to follow is a circle. The robot should change its orientation such that the center of the circle is always on one side of the robot (as in the figure).</p>

<h2>Task requirements</h2>
<ol>
  <li>The control program can be implemented as a two state finite state maching (FSM), i.e. aside of the initial state you it will be required to create another state responsible for computation of the required linear and angular velocities.</li>
  <li>It is suggested that in the initialize state you should store the coordinates of the center of the circle.</li>
  <li>The position and orientation of the robot should be controlled by a regulator and the desired pose of the robot should be generated on the circle.</li>
  <li>The robot can move infinitelly. </li>
  <li>The radius of circle should be equal to 0.5m. </li>
  <li>Use the environment file <code>~/emor_trs/youbot/vrep_env/exercise01.ttt</code> in V-REP simulation.</li>
</ol>

<h2>Grading</h2>
<ul>
  <li>0.5p - the robot follows the circle trajectory with orientation as described above,</li>
  <li>0.5p - the radius of the circle is equal to 0.5m,</li>
  <li>1p - using the arguments <code>position</code> and <code>orientation</code> of the callback function <code>solution1b</code> to control the velocity of the robot.</li>
</ul>

<div class="figure" style="width: 580px"><div><img style="border: 1px solid black; width: 560px" src="raster/vrep-circle1.jpg" alt="circle" /></div></div>

<a id="circle2" name="circle2"></a>
<h1>Moving along a circle trajectory with constant orientation</h1>

<p>The third trajectory the youBot robot has to follow is a circle. The robot should change its orientation such that the center of the circle is always on one side of the robot (as in the figure).</p>

<h2>Task requirements</h2>
<ol>
  <li>The control program can be implemented as a two state finite state maching (FSM), i.e. aside of the initial state you it will be required to create another state responsible for computation of the required linear and angular velocities.</li>
  <li>It is suggested that in the initialize state you should store the coordinates of the center of the circle.</li>
  <li>The position and orientation of the robot should be controlled by a regulator and the desired pose of the robot should be generated on the circle.</li>
  <li>The robot can move infinitelly. </li>
  <li>The radius of circle should be equal to 0.5m. </li>
  <li>Use the environment file <code>~/emor_trs/youbot/vrep_env/exercise01.ttt</code> in V-REP simulation.</li>
</ol>

<h2>Grading</h2>
<ul>
  <li>0.5p - the robot follows the circle trajectory with constant orientation,</li>
  <li>0.5p - the radius of the circle is equal to 0.5m.</li>
  <li>1p - using the argument <code>position</code> of the callback function <code>solution1c</code> to control the velocity of the robot.</li>
</ul>

<div class="figure" style="width: 580px"><div><img style="border: 1px solid black; width: 560px" src="raster/vrep-circle2.jpg" alt="circle" /></div></div>

    </div>
      <div class="trailer_body">
        <div style="width: 100%; display: table;">
          <div style="display: table-row">
            <div style="width: 50%; display: table-cell; vertical-align: bottom;">
              Valid <a href="http://validator.w3.org/check?uri=referer">HTML5</a> and <a href="http://jigsaw.w3.org/css-validator/check/referer">CSS</a>
            </div>

            <div style="width: 50%; display: table-cell; text-align: right; vertical-align: bottom;">
              &copy; Renaud Detry 2014<br>
              This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/" rel="license">Creative Commons Attribution 4.0 International License</a>.
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
