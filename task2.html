<!DOCTYPE html>

<html>
<head>
  <meta content="text/html; charset=utf-8" http-equiv="content-type">
  <link href="favicon.ico" rel="shortcut icon">

  <title>Mobile Robots (EMOR) tutorials</title>
  <link href="style.css" rel="stylesheet" media="screen,print">
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
</head>

<body>
  <div class="page">

    <div class="heading_body">
      <div style="text-align:left; font-size:160%;">
        <strong>Mobile Robots (EMOR)</strong> tutorials.
      </div>
    </div>

    <div class="content_body">

      <div class="noprint" id="menu">
        <a class="top" href="index.html">Introduction</a>
        <a href="setup.html">Setup</a>
        <a href="example.html">Example task</a>
        <a href="task1.html">Task 1</a>
        <a class="sel" href="task2.html">Task 2</a>
        <a href="task3.html">Task 3</a>
        <a href="task4.html">Task 4</a>
        <a href="task5.html">Task 5</a>
        <a href="api.html">API Documentation</a>
        <a href="tips.html">Tips & Tricks</a>
        <a class="bottom" href="troubleshooting.html">Troubleshooting</a>
      </div>

      <div class="content">


        <p>To be announced.</p>
<!--
        <a id="description" name="description"></a>
        <h1 style="margin-top: 0">Task 2 - introduction</h1>

          <p>The main goal of the first tutorial is to learn to control a robot using multiple
            behaviours governed by a finite state machine (FSM).
          </p>

          <p>
            Finite State Machines are a useful tool for programming robots.
            There are many resources you can read to undestand the concept of FSM, e.g. <a href="https://www.researchgate.net/publication/327389755_Using_Finite_State_Machines_in_Introductory_Robotics_Methods_and_Applications_for_Teaching_and_Learning">this article</a>
          </p>

        <hr>
        <a id="line" name="line"></a>
        <h1>Task 2: Complex trajecory generation</h1>

          <p>
            Your task is to generate a trajectory that uses both trajectory generators from
            the Task 1. The robot should follow a rounded rectangle path that consists of
            two half circles and two straight lines:</p>

          <div class="figure" style="width: 98%"><div><img style="border: 1px solid black; width: 100%" src="raster/task2_img1.png" alt="line" /></div></div>

          <p>There are three parameters that describe the path: diameter, length and angle:</p>

          <div class="figure" style="width: 98%"><div><img style="border: 1px solid black; width: 100%" src="raster/task2_img2.png" alt="line" /></div></div>


          <p>You should write a script <code>solution2.m</code> that implements a callback function
            solution2.</p>

          <p>The parameters are passed to the control program through the variable-length
            argument list in the <code>run_simulation</code> function, e.g.
          <code class="block">run_simulation(@solution2, false, 1, 3, 0.5)</code>
          where the arguments are:
          <ul>
            <li><code>solution2</code> is the name of your control callback function,</li>
            <li><code>false</code> - do not display the sensor data (simulation runs faster),</li>
            <li><code>1</code> - the diameter of the rouded rectangle,</li>
            <li><code>3</code> - the length of the rouded rectangle,</li>
            <li><code>0.5</code> - the angle of the rouded rectangle (in radians).</li>
          </ul>
          The callback function for this task must be declared as:
<code class="block">function [forwBackVel, leftRightVel, rotVel, finish] = solution2(pts, contacts, position, orientation, varargin)
% The control loop callback function - the solution for Task 2

    % get the parameters
    if length(varargin) ~= 3,
         error('Wrong number of additional arguments: %d\n', length(varargin));
    end
    param_diameter = varargin{1};
    param_length = varargin{2};
    param_angle = varargin{3};
    
    % declare the persistent variable that keeps the state of the Finite
    % State Machine (FSM)
    persistent state;
    if isempty(state),
        % the initial state of the FSM is 'init'
        state = 'init';
    end

    % initialize the robot control variables (returned by this function)
    finish = false;
    forwBackVel = 0;
    leftRightVel = 0;
    rotVel = 0;

    % TODO: manage the states of FSM
    ...
end</code>
          Please refer to solution <code>solution0a</code> in the <a href="example.html">Example Task</a> for more details on variable-length argument list.
          </p>

          <h2>Task requirements</h2>
            <ol>
              <li>The name of the control callback function should be <code>solution2</code>,</li>
              <li>Both position and orientation must be controlled.</li>
              <li>The robot must follow the desired path.</li>
              <li>The robot can move infinitelly.</li>
              <li>Use the environment file <code>~/emor_trs/youbot/vrep_env/exercise01.ttt</code> in CoppeliaSim simulation.</li>
            </ol>

          <h2>Grading (5 points total)</h2>
            <ul>
              <li>3p - proper implementation of the FSM: states, transitions, conditions, etc.</li>
              <li>2p - proper use of all parameters.</li>
            </ul>
-->
      </div>
      <div class="trailer_body">
        <div style="width: 100%; display: table;">
          <div style="display: table-row">
            <div style="width: 50%; display: table-cell; vertical-align: bottom;">
              Valid <a href="http://validator.w3.org/check?uri=referer">HTML5</a> and <a href="http://jigsaw.w3.org/css-validator/check/referer">CSS</a>
            </div>

            <div style="width: 50%; display: table-cell; text-align: right; vertical-align: bottom;">
              &copy; Renaud Detry 2014<br>
              &copy; Dawid Seredy≈Ñski, Tomasz Kornuta 2016-2020<br>
              This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/" rel="license">Creative Commons Attribution 4.0 International License</a>.
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
