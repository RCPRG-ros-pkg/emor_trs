<!DOCTYPE html>

<html>
<head>
  <meta content="text/html; charset=utf-8" http-equiv="content-type">
  <link href="favicon.ico" rel="shortcut icon">

  <title>TRS: An Open-source Recipe for Teaching (and Learning) Robotics with a Simulator</title>
  <link href="style.css" rel="stylesheet">
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script></head>

<body>
  <div class="page">
    <div id="topframe">
      <img alt="" id="topimage" src="top-2.jpg">

    
    </div>

    <div class="heading_body">

      <div style="text-align:left; font-size:160%;">
        <strong>TRS:</strong> An Open-source Recipe for Teaching/Learning Robotics with a Simulator.
      </div>
      <div style="text-align:left; font-size:100%; padding-top: 1ex">
        :: setup a laptop in 5 minutes,
write a control, navigation, vision or manipulation program in 100 lines of code
      </div>
    </div>

    <div class="content_body">
      <div id="menu">
        <a class="top" href="index.html">TRS</a> <a class="submenu" href="index.html#events">Events</a> <a class="submenu" href="index.html#mot">Motivation</a> <a class="submenu" href="index.html#get">What You Get</a> <a class="submenu" href="index.html#use">How to Use</a> <a class="submenu" href="index.html#contact">Authors</a> <a href="setup.html">Setup</a> <a class="submenu" href="setup.html#com">Components</a> <a class="submenu" href="setup.html#install">Install</a> <a class="submenu" class="bottom" href="setup.html#shoot">Troubleshoot</a> <a href="project.html">Project</a> <a class="submenu" href="project.html#def">Definition</a>
        <a class="submenu" href="project.html#prog">Programming</a>
        <a class="submenu" href="project.html#doc">Documentation</a>
        <a class="submenu" href="project.html#api">API</a>
        <a class="submenu" href="project.html#mtips">Matlab Tips</a>
        <a class="submenu" href="project.html#ytips">YouBot Tips</a>
        <a class="submenu bottom" href="project.html#shoot">Troubleshoot</a>
      </div>

      <div class="content">
      
        <a id="set" name="set"></a>
        <h1 style="margin-top: 0">Components</h1>

<p>This page details the installation and configuration of the following items:</p>
<ul>
<li>Peter Corke's RVC toolbox,</li>
<li>The V-REP simulator,</li>
<li>The Matlab bindings for V-REP.</li>
</ul>

<h2>Requirements</h2>

TRS requires a fairly recent version of Matlab. Matlab versions older than 2011 are know to cause problems.

<h2>Notes</h2>

<p>Before installing VREP and RVC, please take the time to read the tips below:</p>

<ul>

  <li>The installation process needs to be slightly adapted to your platform (Linux, Mac, Win), and to your Matlab version. At each step of the install procedure, I provide a set of commands that are tailored to a 64-bit Linux machine. If you use a different setup, you may have to adapt these commands.</li>

  <li>If you are using Windows, you can pretty much follow the directives below. However, to ease the process, I suggest you install everything in <code>C:/trs</code> instead of your home directory.<br>
  In the instructions below, the tilde <code>~</code> character stands for the home directory. If you are using Windows, use <code>C:/</code> instead of <code>~</code>. If you decide to go against this recommendation, please make sure that the path where you install the project stuff does not contain spaces, accented characters, or other non-letter characters. Letters and numbers only please.</li>

</ul>

        <a id="install" name="install"></a>
<h1>Install Procedure</h1>

<p>The recommended procedure for setting up your computer is listed below:</p>

<ol class="steps">

  <li>
    <a class="anchor" id="git"></a><p>Project-related files are published through Git. Download a Git client from the <a href="http://git-scm.com/downloads">git-scm.com</a> webiste. If you are unfamiliar with Git, <a href="http://www.sourcetreeapp.com">SourceTree</a> is a cool GUI for Mac and Windows.<br>Clone the Git repo <code>https://github.com/ULgRobotics/trs.git</code> onto your machine, for instance in your home directory. On a UNIX machine:</p>
    <code class="block">cd ~
git clone https://github.com/ULgRobotics/trs.git</code>
    <p><b>Do not modify the files within that directory, as they may be updated by me server-side.</b> Remember to regularly pull from the Git repository to get updates.</p>
    <p>If you have trouble downloading the project files with Git, you can download a <a href="https://github.com/ULgRobotics/trs/archive/master.zip">ZIP snapshot</a> of the current state of the Git repo. The ZIP file behind this link is kept up-to-date, but <b>you must re-download it often to make sure you get all the updates to the project files</b>.</p>
  </li>
  <li>
    Download <a href="http://coppeliarobotics.com/downloads.html">V-REP PRO EDU</a>.
    When you're done downloading VREP, unpack it, for instance in your home directory.
  </li>
  <li>
    Install the VREP bindings for Matlab:
    <ol>
      <li>You must copy three files from the directory of the V-REP app (downloaded at the previous step) to the directory named <code>youbot</code> within your local copy of the GitHub repository. The three files you need to copy are named
        <ul>
          <li><code>remApi.m</code></li>
          <li><code>remoteApiProto.m</code></li>
          <li><code>remoteApi.so</code> (if you use Linux) <strong>or</strong> <code>remoteApi.dll</code> (if you use Windows) <strong>or</strong> <code>remoteApi.dylib</code> (if you use a Mac). <strong>If you have a choice between a 32-bit or 64-bit remoteApi, pick the one that corresponds to your Matlab install (32-bit Matlab or 64-bit Matlab). If you have 32-bit Matlab, pick the 32-bit remoteApi, even if your kernel is 64-bit.</strong></li>
        </ul>
        You will find these files in the directory containing the V-REP app. Look in the <code>programming/remoteApiBindings/lib/lib</code> and <code>programming/remoteApiBindings/matlab/matlab</code> subdirectories of the VREP app directory (although this can change from version to version). You must copy these files to the <code>youbot</code> directory within your copy of the GitHub repo. If you closely followed the instructions above, the <code>youbot</code> directory is at <code>~/trs/youbot</code> (Linux/Mac) or <code>C:/trs/youbot</code> (Windows).
      </li>
      
      <li>
        In Matlab, change to the <code>youbot</code> directory. On Linux/Mac:
        <code class="block">cd ~/trs/youbot</code>
        Then type
        <code class="block">vrep=remApi('remoteApi');
vrep.delete();</code>
        <p>If there is no error, the Matlab bindings to V-REP are loaded! If there is an error, check the steps above, check the Troubleshooting section below, and read <a href="http://www.coppeliarobotics.com/helpFiles/en/remoteApiClientSide.htm">V-REP's Matlab bindings help</a>. The V-REP developers are actively supporting TRS. If you cannot solve this issue, post a question on the <a href="http://www.forum.coppeliarobotics.com">V-REP forums</a>.</p>
      </li>
      <li>
        Startup V-REP (Linux: <code>./vrep.sh</code> from within V-REP's directory), use the menu "File/Open Scene", and open <code>~/trs/youbot/binding_test.ttt</code>. Hit "Start Simulation" in the Simulation menu. Then, back in Matlab, type
        <code class="block">cd ~/trs/youbot
binding_test();</code>
        If you see Matlab replying <em>Number of objects in the scene: 19</em>, everything works! If not, as recommended above, post a question on the <a href="http://www.forum.coppeliarobotics.com">V-REP forums</a>.
      </li>
      
    </ol>
    
  </li>  

  
  <li>
    In Matlab, run the <code>startup_robot.m</code> file provided via the Git repository. If you cloned the Git repository in your home directory, run:
    <code class="block">run('~/trs/matlab/startup_robot.m');</code>
    <p>This line needs to be run every time Matlab restarts. You may want to add it to your Matlab startup file.</p>
    <p><strong>Test that the RVC toolbox works:</strong> In Matlab, type
        <code class="block">rotx(1)</code>
        If there is no error, P. Corke's RVC toolbox is working! If there is an error, check the steps above and read the toolbox's <a href="http://petercorke.com/Robotics_Toolbox.html">install doc</a>.</p>

  </li>
  

</ol>

        <a id="shoot" name="shoot"></a>
<h1>Troubleshooting</h1>

<ul>
<li>
If you get an error that contains <code>version `GLIBCXX_3.4.15' not found</code>, talk to me in class, or take a look at <a href="http://sgpsproject.sourceforge.net/JavierVGomez/index.php/Solving_issues_with_GLIBCXX_and_libstdc%2B%2B">this link</a>.
</li>
</ul>


      </div>

      <div class="trailer_body">
        <div style="width: 100%; display: table;">
          <div style="display: table-row">
            <div style="width: 50%; display: table-cell; vertical-align: bottom;">
              Valid <a href="http://validator.w3.org/check?uri=referer">HTML5</a> and <a href="http://jigsaw.w3.org/css-validator/check/referer">CSS</a>
            </div>

            <div style="width: 50%; display: table-cell; text-align: right; vertical-align: bottom;">
              &copy; Renaud Detry 2014<br>
              This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/" rel="license">Creative Commons Attribution 4.0 International License</a>.
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
