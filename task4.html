<!DOCTYPE html>

<html>
<head>
  <meta content="text/html; charset=utf-8" http-equiv="content-type">
  <link href="favicon.ico" rel="shortcut icon">

  <title>Mobile Robots (EMOR) tutorials</title>
  <link href="style.css" rel="stylesheet">
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
</head>

<body>
  <div class="page">

    <div class="heading_body">
      <div style="text-align:left; font-size:160%;">
        <strong>Mobile Robots (EMOR)</strong> tutorials.
      </div>
    </div>

    <div class="content_body">

      <div id="menu">
        <a class="top" href="index.html">Introduction</a>
        <a href="setup.html">Setup</a>
        <a href="example.html">Example task</a>
        <a href="task1.html">Task 1</a>
        <a href="task2.html">Task 2</a>
        <a href="task3.html">Task 3</a>
        <a class="sel" href="task4.html">Task 4</a>
        <a href="task5.html">Task 5</a>
        <a href="api.html">API Documentation</a>
        <a href="tips.html">Tips & Tricks</a>
        <a class="bottom" href="troubleshooting.html">Troubleshooting</a>
      </div>

      <div class="content">
<!--
        <p>To be announced.</p>
-->
        <a id="info" name="info"></a>
        <a id="description" name="description"></a>
        <h1 style="margin-top: 0">Description</h1>

          <p>The goal of this task is to introduce navigation realized by Bug2 algorithm.</p>

        <a id="bug2" name="bug2"></a>
        <h1>Task 4: Navigation with Bug2</h2>

          <p>Write a program that implements the Bug2 algorithm. The basic idea is to move along
            the line connecting the target and initial point and in the case of being near to
            the obstacle follow its contour and thus circumnavigate it. The program should work
            as follows:
            <ol>
              <li>Find the line <code>l</code> connecting initial and target position.</li>
              <li>Rotate towards the goal.</li>
              <li>Move towards the goal along the <code>l</code> line until reaching an obstacle or the goal.</li>
              <li>When the robot reaches the obstacle, save the distance to the goal <code>d</code>.</li>
              <li>Use "moving along the walls" controller to avoid the obstacle.</li>
              <li>Depart immediately when the robot is on the <code>l</code> line again and the distance to the goal is lower than <code>d</code>.</li>
              <li>Go to the step 2.</li>
            </ol>
          </p>

          <h2>Programming hints</h2>
            <p>Implement a control callback function <code>solution4</code> that realizes the Bug2
            navigation task. Use the input variables <code>position</code> and
            <code>orientation</code> to determine the line <code>l</code> and to calculate
            the distance <code>d</code>.
            The goal point should be provided as an additional input argument to the
            function <code>solution4</code>, so running the simualtion would be:
<code class="block">run_simulation(@solution4, false, [goal_x, goal_y])</code>
            </p>
            <p>You can refer to a implementation of the Bug2 algorithm in the Robotics Toolbox.
              Please see the file <code>~/ws_emor/emor_trs/matlab/rvctools/robot/Bug2.m</code>.</p>

          <h2>Task requirements</h2>
            <ol>
              <li>Analyse the LIDAR readings to check if the robot is close to obstacle.</li>
              <li>Use the Finite State Machine (FSM) for switching between different states of Bug2 algorithm (e.g. heading towards the goal, moving along the walls).</li>
              <li>Use the "moving along the walls" controller to circumnavigate the obstacles.</li>
              <li>Use proportional controllers with limited output to move the robot along the line <code>l</code>.</li>
              <li>The line <code>l</code> should be calculated once, in the initial state.</li>
              <li>If the robot reaches the goal, stop the controller.</li>
            </ol>

          <h2 style="margin-top: 0">Grading (5 points total)</h2>
            <ol>
              <li>Processing of the sensory data (1p)</li>
              <li>Overall Bug2 implementation quality, Finite State Machine (2p)</li>
              <li>Regulators that keep the robot on the line <code>l</code> (1p)</li>
              <li>Stop condition and clean exit (1p)</li>
            </ol>
      </div>
      <div class="trailer_body">
        <div style="width: 100%; display: table;">
          <div style="display: table-row">
            <div style="width: 50%; display: table-cell; vertical-align: bottom;">
              Valid <a href="http://validator.w3.org/check?uri=referer">HTML5</a> and <a href="http://jigsaw.w3.org/css-validator/check/referer">CSS</a>
            </div>

            <div style="width: 50%; display: table-cell; text-align: right; vertical-align: bottom;">
              &copy; Renaud Detry 2014<br>
              &copy; Dawid Seredy≈Ñski, Tomasz Kornuta 2016-2021<br>
              This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/" rel="license">Creative Commons Attribution 4.0 International License</a>.
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
